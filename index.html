<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ModuleTSX</title>
    <script></script>
    <!-- <script type="module" src="https://esm.sh/@tailwindcss/browser"></script> -->
    <script type="module-tsx" src="./docs/main.tsx"></script>
  </head>
  <body>
    <div id="root">
      <pre style="color: #888; font-size: 12px; margin: 0; padding: 0">loading module-tsx library...</pre>
    </div>
  </body>
  <script src="./dist/index.umd.js"></script>
  <script>
    const { instance, ModuleTSX } = window.ModuleTSX; // the UMD global variable
    instance.addEventListener("*", (event) => {
      const { type, payload } = event.detail;

      document.getElementById("root").appendChild(
        Object.assign(document.createElement("pre"), {
          innerText: `${type}: ${JSON.stringify(payload)}`,
          style: `color: ${type.endsWith(":error") ? "#f00" : "#888"}; font-size: 12px; margin: 0; padding: 0;`,
        }),
      );
    });
  </script>
</html>
